# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email –¥–ª—è DockMap

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã Mail.ru SMTP

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∞:
```
NestJS ‚Üí Mail.ru SMTP ‚Üí Mail.ru –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç ‚Üí Gmail/Yandex/Outlook/etc
```

**–í–∞–∂–Ω–æ**: –í—ã –Ω–∞–ø—Ä—è–º—É—é –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å Gmail –∏–ª–∏ Yandex!
- NestJS –æ–±—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å Mail.ru SMTP
- Mail.ru —Å–∞–º –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–∞ –Ω–∞ –ª—é–±—ã–µ –¥–æ–º–µ–Ω—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –ø–æ—á—Ç–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã: Gmail, Yandex, Outlook, Yahoo –∏ –¥—Ä.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Mail.ru SMTP

–°–æ–≥–ª–∞—Å–Ω–æ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Mail.ru](https://help.mail.ru/mail/login/mailer/#setup), –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.production)

```env
# Mail.ru SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
EMAIL_USER=dock.map@mail.ru
EMAIL_PASSWORD=weghPOZktP2e3Md7Rr37
EMAIL_FROM=DockMap <dock.map@mail.ru>

# SMTP —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SMTP_HOST=smtp.mail.ru
SMTP_PORT=465
SMTP_SECURE=true
```

### üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Mail.ru SMTP

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **SMTP —Å–µ—Ä–≤–µ—Ä** | smtp.mail.ru |
| **–ü–æ—Ä—Ç** | 465 (SSL/TLS) |
| **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | SSL/TLS |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ |

### ‚ö†Ô∏è –í–∞–∂–Ω–æ!

1. **–ü–∞—Ä–æ–ª—å –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**: `weghPOZktP2e3Md7Rr37`
   - –≠—Ç–æ –ù–ï –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç—ã
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Mail.ru: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ü–∞—Ä–æ–ª–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

2. **–¢–∏–ø –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ü–æ—á—Ç–µ (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email)

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SSL/TLS –Ω–∞ –ø–æ—Ä—Ç—É 465

### üöÄ –î–µ–ø–ª–æ–π

–ù–∞ Timeweb Cloud Apps –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –∫–æ–¥–∞.

### üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è @mail.ru –∞–¥—Ä–µ—Å–∞:**
- ‚úÖ SPF, DKIM, DMARC —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã Mail.ru
- ‚úÖ –†–µ–ø—É—Ç–∞—Ü–∏—è Mail.ru —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ü–∏—Å—å–º–∞ —Ä–µ–∂–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–ø–∞–º
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å DNS –∑–∞–ø–∏—Å–∏

**–ï—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω** (–Ω–∞–ø—Ä–∏–º–µ—Ä noreply@mydomain.ru):
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å SPF –∑–∞–ø–∏—Å–∏
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å DKIM –ø–æ–¥–ø–∏—Å–∏  
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å DMARC –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚ùå –ë–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –ø–æ–ø–∞—Å—Ç—å –≤ —Å–ø–∞–º

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `/auth/email/test` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ email:

```bash
POST /auth/email/test
{
  "email": "test@example.com"
}
```

**–ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –ª—é–±—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏:**
- test@gmail.com
- test@yandex.ru  
- test@outlook.com
- test@yahoo.com

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mail.ru SMTP](https://help.mail.ru/mail/login/mailer/#setup)
- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π](https://help.mail.ru/mail/login/mailer/#setup)
